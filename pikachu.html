<html lang="en"><head>
  <meta charset="UTF-8">
  <title>Pikachu</title>
  <link rel="stylesheet" href="pikachu.css">
  <script src="https://kit.fontawesome.com/e7498fd49d.js" crossorigin="anonymous"></script>
</head>
<body>
<div id="wrapper">
  <!--title display-->
  <div class="title">
    <h2>Pikachu Game</h2>
    <div id="score" class="score">
      Score: <span id="score_title">0</span>
    </div>
    <div id="content" class="info_content">
      <div id="level" class="level">Level: <span id="level_index">0</span></div>
      <div id="shuffle" class="shuffle">Shuffle times: <span id="shuffle_index" class="shuffle_index"></span>
      </div>
    </div>
  </div>
  <!--intro frame -->
  <div id="introFrame" style="display: block;">
    <div class="content">
      <label for="levels">Choose level:</label>
      <select name="levels_name" id="levels">
        <option value="easy" selected="">Level 1</option>
        <option value="medium">Level 2</option>
        <option value="hard">Level 3</option>
        <option value="Extreme">Level 4</option>
        <option value="Terrible">Level 5</option>
        <option value="Nightmare">Level 6</option>
      </select>
      <button id="startButton"><i class="fa-solid fa-play" aria-hidden="true"></i>Play</button>
    </div>
  </div>
  <!--main game frame-->
  <div id="gameFrame" style="display: none;"></div>
  <!--end game frame-->
  <div id="end_game" style="display: none;">
    <div class="end_option">
      <h2>Congratulations! You win!</h2>
      <h4>Score: <span id="score_end"></span></h4>
      <button id="tryAgain" style="display: none"><i class="fa-sharp fa-solid fa-arrow-rotate-left" aria-hidden="true"></i>Try again</button>
      <button id="backToMenu"><i class="fa-solid fa-bars" aria-hidden="true"></i>Back to menu game</button>
    </div>
  </div>
  <div style="display: none;">
    <div class="pause">
      <i class="fa-solid fa-pause" aria-hidden="true"></i>
    </div>
    <div class="home">
      <i class="fa-solid fa-house" aria-hidden="true"></i>
    </div>
    <div class="restart">
      <i class="fa-solid fa-repeat" aria-hidden="true"></i>
  </div>
    <div class="timer_wrapper">
      <div id="timer_id" class="timer"></div>
    </div>
  </div>
  <div style="display: none;">
    <div class="pause_label">Stop</div>
    <div class="home_label">Home</div>
    <div class="restart_label">Shuffle</div>
    <div class="timer_label">Timer</div>
  </div>
</div>
<script src="jquery-3.6.4.min.js"></script>
<script src="pikachu.js"></script>


<script>
  (function() {
    var ws = new WebSocket('ws://' + window.location.host +
      '/jb-server-page?reloadMode=RELOAD_ON_SAVE&'+
      'referrer=' + encodeURIComponent(window.location.pathname));
    ws.onmessage = function (msg) {
      if (msg.data === 'reload') {
        window.location.reload();
      }
      if (msg.data.startsWith('update-css ')) {
        var messageId = msg.data.substring(11);
        var links = document.getElementsByTagName('link');
        for (var i = 0; i < links.length; i++) {
          var link = links[i];
          if (link.rel !== 'stylesheet') continue;
          var clonedLink = link.cloneNode(true);
          var newHref = link.href.replace(/(&|\?)jbUpdateLinksId=\d+/, "$1jbUpdateLinksId=" + messageId);
          if (newHref !== link.href) {
            clonedLink.href = newHref;
          }
          else {
            var indexOfQuest = newHref.indexOf('?');
            if (indexOfQuest >= 0) {
              // to support ?foo#hash
              clonedLink.href = newHref.substring(0, indexOfQuest + 1) + 'jbUpdateLinksId=' + messageId + '&' +
                newHref.substring(indexOfQuest + 1);
            }
            else {
              clonedLink.href += '?' + 'jbUpdateLinksId=' + messageId;
            }
          }
          link.replaceWith(clonedLink);
        }
      }
    };
  })();
</script></body></html>
